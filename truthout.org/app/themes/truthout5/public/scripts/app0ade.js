"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[742],{9677:function(e,t,o){var n=o(8877),a=o(7059),i=o.n(a),s={init:function(){this.updateSrc(),this.lozadInit()},lozadInit:function(){var e=i()(".to4-lazy-load",{rootMargin:"300px 0px",loaded:function(e){e.classList.add("is-loaded")}}),t=document.querySelector(".to4-lazy-modal");window.addEventListener("load",(function(){t&&e.triggerLoad(t)})),e.observe()},updateSrc:function(){var e=this,t=Array.prototype.slice.apply(document.querySelectorAll('img[loading="lazy"], img[loading="eager"], img[loading="auto"]')),o=Array.prototype.slice.apply(document.querySelectorAll('iframe[loading="lazy"], iframe[loading="eager"], iframe[loading="auto"]'));"loading"in HTMLImageElement.prototype?(t.forEach((function(t){e.nativeUpdateSrc(t)})),o.forEach((function(t){e.nativeUpdateSrc(t)}))):(t.forEach((function(t){e.fallbackUpdateSrc(t)})),o.forEach((function(t){e.fallbackUpdateSrc(t)})))},nativeUpdateSrc:function(e){e.classList.contains("to4-lazy-load")||e.classList.contains("to4-lazy-modal")||(e.hasAttribute("data-src")&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.hasAttribute("data-srcset")&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")),e.hasAttribute("data-sizes")&&(e.sizes=e.dataset.sizes,e.removeAttribute("data-sizes")))},fallbackUpdateSrc:function(e){e.classList.contains("to4-lazy-modal")||e.classList.add("to4-lazy-load")}},l=o(9799),c={init:function(){var e=this;document.querySelector(".ar__share")&&((0,l.Z)(document.querySelectorAll(".social__btn")).filter((function(e){return!e.classList.contains("flex-row")})).forEach((function(t){return e.shareTrigger(t)})),document.querySelectorAll(".social__btns__drop").forEach((function(t){return e.addShowClass(t)})))},addShowClass:function(e){if(e)try{e.addEventListener("show.bs.dropdown",(function(e){e.target.closest(".social__btns").classList.add("mb-6")})),e.addEventListener("hidden.bs.dropdown",(function(e){e.target.closest(".social__btns").classList.remove("mb-6")}))}catch(e){console.log("Sharing toolbar dropdown error: "+e)}},shareTrigger:function(e){var t=this;if(e)try{e.addEventListener("click",(function(e){var o=e.target.closest(".social__btn");if(o.classList.contains("social__prnt"))window.print();else if(o&&!o.classList.contains("social__mr")&&!o.classList.contains("social__em")){var n=o.getAttribute("href"),a=o.querySelector(".social__ti");t.popupCenter(n,a,580,470),e.preventDefault()}}))}catch(e){console.log("Sharing toolbar error: "+e)}},popupCenter:function(e,t,o,n){var a=void 0!==window.screenLeft?window.screenLeft:screen.left,i=void 0!==window.screenTop?window.screenTop:screen.top,s=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-o/2+a,l=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-n/3+i,c=window.open(e,t,"scrollbars=yes, width="+o+", height="+n+", top="+l+", left="+s);c&&c.focus&&c.focus()}},d=o(9650),r={init:function(){var e="to4-donate-trigger";document.getElementById("to4DonateModal"),document.getElementById("to4SubscribeModal"),document.getElementById("modalDonorboxForm");this.escCloseTrigger(),this.initCloseTrigger(e)},modalOnShow:function(){document.documentElement.classList.add("modal-open-overlay")},modalOnClose:function(e,t){t.preventDefault(),t.stopPropagation(),e.classList.add("modal--loading"),e.classList.add("modal--init"),e.classList.remove("modal--fadein");var o=e.querySelector(".modal__loading");o&&o.classList.remove("d-none"),document.documentElement.classList.remove("modal-open-overlay")},microModalInit:function(e){var t=this;e&&d.Z.init({onShow:function(){t.modalOnShow()},onClose:function(e,o,n){t.modalOnClose(e,n)},disableScroll:!0,awaitOpenAnimation:!0})},microModalShow:function(e){var t=this;d.Z.show(e,{onShow:function(){t.modalOnShow()},onClose:function(e,o,n){t.modalOnClose(e,n)},disableScroll:!0,awaitOpenAnimation:!0})},setStyle:function(e,t){var o="modal--default";if(e){var n=t.classList,a="modal--"+e;n.contains(o)&&a!==o&&(n.remove(o),n.add(a))}},setDonorBox:function(e,t,o){var n=this,a=t.querySelector(".modal__loading"),i=void 0!==e.donorbox?e.donorbox:"truthout-4?",s=void 0!==e.source?e.source:"Truthout",l=void 0!==e.medium?e.medium:"Unassigned",c=void 0!==e.campaign?e.campaign:"Unassigned",d=void 0!==e.type?e.type:"single",r="utm_source=".concat(encodeURIComponent(s),"&utm_medium=").concat(encodeURIComponent(l),"&utm_campaign=").concat(encodeURIComponent(c));"monthly"===d&&(r="default_interval=m&"+r,o.setAttribute("height","685px"),o.classList.add("donorbox-monthly"));var u="https://donorbox.org/embed/"+i+r;u===o.src?(a.classList.add("d-none"),this.removeInitStyles(t,a)):(a.classList.remove("d-none"),o.src=u),window.addEventListener("message",(function(e){"onRequestShow"===e[e.message?"message":"data"]&&n.removeInitStyles(t,a)}),!1),o.addEventListener("load",(function(){n.removeInitStyles(t,a)}))},removeInitStyles:function(e,t){e.classList.contains("modal--init")&&e.classList.remove("modal--init"),e.classList.contains("modal--loading")&&e.classList.remove("modal--loading"),t.classList.contains("d-none")||t.classList.add("d-none"),e.classList.add("modal--fadein")},initSubscribeModal:function(e,t){this.microModalInit(t);var o=this,n=t.querySelector(".modal__loading");document.addEventListener("click",(function(a){a.target&&t&&(a.target.closest("."+e)&&(a.preventDefault(),o.microModalShow("to4SubscribeModal"),o.removeInitStyles(t,n)))}))},initDonateModal:function(e,t,o){this.microModalInit(t);var n=this;document.addEventListener("click",(function(a){if(a.target&&t){var i=a.target.closest("."+e);if(i){a.preventDefault();var s=a.target.closest(".modal__content--popup"),l=i.dataset;if(s)l.medium=s.dataset.calloutPlacement,l.campaign=s.dataset.calloutTitle;else{var c=i.classList;switch(!0){case c.contains("inline-callout"):l.campaign=l.calloutTitle,l.medium=l.calloutPlacement;break;case c.contains("footer-donate"):l.campaign="Footer Nav",l.medium="Navigation";break;case c.contains("nav-donate"):l.campaign="Top Nav",l.medium="Navigation"}}n.setDonorBox(l,t,o),l.style&&n.setStyle(l.style,t),n.microModalShow("to4DonateModal")}}}))},closeTimedModal:function(e){if(e&&e.id){var t=window.advads_items.close_functions[e.id];"function"==typeof t&&t()}},initCloseTrigger:function(e){var t=this;document.addEventListener("click",(function(o){if(o.target&&(o.target.classList.contains("to4-donate-close")||o.target.classList.contains(e))){var n=o.target.closest(".modal");n&&t.closeTimedModal(n)}}))},escCloseTrigger:function(){var e=document.querySelectorAll(".modal"),t=document.querySelector(".advads-background"),o=this;t&&e&&e.forEach((function(e){document.body.addEventListener("keyup",(function(t){27===t.which&&o.closeTimedModal(e)}))}))},max_per_session:function(e,t){if(void 0!==window.advads){var o=1;if(void 0!==t&&0!==parseInt(t)||(t=1),!window.advads.cookie_exists(e))return window.advads.set_cookie(e,o+1,2),!0;if(window.advads.cookie_exists(e)){if(window.advads.get_cookie(e)<=t)return o+=parseInt(window.advads.get_cookie(e)),window.advads.set_cookie(e,o),!0;o+=parseInt(window.advads.get_cookie(e))}return!1}}},u=o(3493),m=o.n(u),f={init:function(){var e=document.querySelector(".banner"),t=document.getElementById("aboutMenuList");this.partiallyPersistentHeader(e),t&&(this.partiallyPersistentHeader(t),this.initAboutMenuCollapseHandler(t),this.updateCurrentMenuItemForAnchors(t),this.addClickEventToAnchorLinks(t),this.scrollToHashOnLoad())},partiallyPersistentHeader:function(e){var t=void 0!==window.pageXOffset,o="CSS1Compat"===(document.compatMode||""),n=0,a=function(){var a,i;a=t?window.pageYOffset:o?document.documentElement.scrollTop:document.body.scrollTop,i=a>n,n=a,i&&!e.contains(document.activeElement)?(e.classList.add("scroll-down"),e.classList.remove("scroll-up")):(e.classList.add("scroll-up"),e.classList.remove("scroll-down"))},i=window.matchMedia("(prefers-reduced-motion: reduce)");window.addEventListener("scroll",m()((function(){window.scrollY>115?e.classList.add("sticky-top"):e.classList.remove("sticky-top"),i&&!i.matches&&a()}),150))},initAboutMenuCollapseHandler:function(e){var t=this,o=document.getElementById("aboutDropdownButton");this.toggleMenu=function(){e.classList.contains("show")?(t.bsCollapse.hide(),o.setAttribute("aria-expanded","false")):(t.bsCollapse.show(),o.setAttribute("aria-expanded","true"))};var a=function(){window.innerWidth<768?t.bsCollapse||(e.classList.remove("show"),o.setAttribute("aria-expanded","false"),t.bsCollapse=new n.UO(e,{toggle:!1}),o.hasAttribute("data-listener-attached")||(o.addEventListener("click",t.toggleMenu),o.setAttribute("data-listener-attached","true"))):(e.classList.add("show"),o.setAttribute("aria-expanded","true"),t.bsCollapse&&(t.bsCollapse.dispose(),t.bsCollapse=null,o.hasAttribute("data-listener-attached")&&(o.removeEventListener("click",t.toggleMenu),o.removeAttribute("data-listener-attached"))))};a(),window.addEventListener("resize",m()(a,200))},updateCurrentMenuItemForAnchors:function(e){var t=window.location.href.split("#")[0],o=window.location.hash;e.querySelectorAll("a").forEach((function(e){var n=e.href.split("#")[0],a=e.hash;n===t&&(o&&a!==o?e.classList.remove("current-menu-item"):o||""!==a||e.classList.add("current-menu-item")),a&&a===o?e.classList.add("current-menu-item"):a&&a!==o&&e.classList.remove("current-menu-item")}))},addClickEventToAnchorLinks:function(e){var t=e.querySelectorAll("a");t.forEach((function(e){e.addEventListener("click",(function(o){var n=e.hash.substring(1),a=document.getElementById(n);a&&(a.scrollIntoView({behavior:"smooth",block:"start"}),t.forEach((function(e){return e.classList.remove("current-menu-item")})),e.classList.add("current-menu-item"))}))}))},scrollToHashOnLoad:function(){var e=window.location.hash;if(e){var t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}},v=o(1002),h=o(56),p=o(1955),g=o(3096),w=o.n(g),L={init:function(){var e=this,t=function(){var t=document.getElementById("c5bc0f85a9fea2e3310de5d7086f96222");if(t){var o=e.areCookiesEnabled(),a=p.Z.get("hellobar_toggled"),i=t.querySelector(".hello__title"),s=t.querySelector(".callout--hellobar");if(s.classList.contains("callout--white")||s.classList.contains("callout--light")?t.classList.add("color-dark"):t.classList.add("color-white"),i&&(0,h.Z)(i,{maxSize:36,minSize:12,multiLine:!0}),"yes"!=a&&1==o){p.Z.set("hellobar_toggled","no"),t.classList.add("show","expanded");new n.UO(t,{toggle:!1,show:!0})}else"yes"==a&&t.classList.add("hello--toggled","collapse");e.scrollHellobar(o,t),t.addEventListener("hide.bs.collapse",(function(){t.classList.remove("show"),t.classList.remove("expanded"),t.classList.remove("hello--visible"),"yes"!=a&&(t.classList.add("hello--toggled"),p.Z.set("hellobar_toggled","yes",{expires:14}))})),t.addEventListener("show.bs.collapse",(function(){t.classList.remove("collapse"),t.classList.add("expanded"),t.classList.add("hello--visible")}))}};t(),"object"===("undefined"==typeof advanced_ads_pro?"undefined":(0,v.Z)(advanced_ads_pro))&&advanced_ads_pro.observers.add((function(e){"hellobar-placement"===e.id&&t()}))},areCookiesEnabled:function(){var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},scrollHellobar:function(e,t){function o(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=document.body.clientHeight,i=.05,s=.65,l=n/a;0==o?l<=i||l>=s?t.classList.add(e):t.classList.remove(e):l<=i||l>=s?(t.classList.remove(e),t.classList.add("hello--visible")):(t.classList.remove("hello--visible"),t.classList.add(e))}var n=w()((function(){var n=p.Z.get("hellobar_toggled");1==e&&"no"==n&&o("expanded",t,!1),o("hello--hide",t,!0)}),250);window.addEventListener("scroll",n)}},b=o(3636),y=o(2825),_=o(6203),S=o(1417),E=o(1702);document.addEventListener("DOMContentLoaded",(function(){f.init(),s.init(),c.init(),r.init(),L.init(),document.body.addEventListener("keyup",(function(e){9===e.which&&document.documentElement.classList.remove("no-focus-outline")}))})),b.vI.add(S.k9Y,S.N$R,S.pZJ,S.veW,S.hsX,y.Ozh,_.FR9,_.eFW,y.wn1,_.xiG,_.onQ,_.gc2,_.NBC,_.mTx,_._tD,_.A35,_.ptq,E.AX7),b.vz.watch()},1500:function(){},7947:function(){},7350:function(){},9567:function(e){e.exports=window.jQuery}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[787,126,692,941],(function(){return t(9677),t(1500),t(7947),t(7350)}));e.O()}]);